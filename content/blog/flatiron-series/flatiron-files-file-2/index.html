---
title: 'The Flatiron Files: File 2'
excerpt: 'This blogpost is going to summarize the lessons on data analysis in base python and pandas.'
author: Rebecca Frost-Brewer
date: '2022-02-27'
slug: []
categories: []
tags: []
output: html_document
---



<p>This blogpost is going to summarize the lessons on data analysis in base python and pandas. These lessons and content are from the Flatiron School.</p>
<div id="introduction-to-data-analysis---cumulative-lab" class="section level2">
<h2>Introduction to Data Analysis - Cumulative Lab</h2>
<p>The objectives of this lab are to:</p>
<ul>
<li>Practice reading serialized JSON and CSV data from files into Python objects</li>
<li>Practice extracting information from nested data structures</li>
<li>Practice cleaning data (filtering, normalizing locations, converting types)</li>
<li>Combine data from multiple sources into a single data structure</li>
<li>Interpret descriptive statistics and data visualizations to present my findings</li>
</ul>
<div id="the-task-to-analyze-the-relationship-between-population-and-mens-world-cup-success" class="section level3">
<h3>The Task: To Analyze the Relationship between Population and Men’s World Cup Success</h3>
<p>Using data from the 2018 Men’s World Cup, we are going to ascertain if any relationship exists between participating countries’ population and success (as measured by cumulative wins).</p>
</div>
<div id="data-understanding" class="section level3">
<h3>Data Understanding</h3>
<p>The data sources for this analysis will be pulled from two separate files.</p>
<p><code>world_cup_2018.json</code></p>
<ul>
<li>Source: This dataset comes from <a href="http://openfootball.github.io/">football.db</a>, a “free and open public domain football database &amp; schema for use in any (programming) language”</li>
<li>Contents: Data about all games in the 2018 World Cup, including date, location (city and stadium), teams, goals scored (and by whom), and tournament group</li>
<li>Format: Nested JSON data (dictionary containing a list of rounds, each of which contains a list of matches, each of which contains information about the teams involved and the points scored)</li>
</ul>
<p><code>country_populations.csv</code></p>
<ul>
<li>Source: This dataset comes from a curated collection by <a href="https://datahub.io/core/population">DataHub.io</a>, originally sourced from the World Bank</li>
<li>Contents: Data about populations by country for all available years from 1960 to 2018</li>
<li>Format: CSV data, where each row contains a country name, a year, and a population</li>
</ul>
<div id="getting-the-data" class="section level4">
<h4>Getting the Data</h4>
<pre class="python"><code>
# Import necessary packages
import json
import csv</code></pre>
<p>Open the relevant files</p>
<pre class="python"><code>
world_cup_file = open(&quot;data/world_cup_2018.json&quot;, encoding=&#39;utf8&#39;)
population_file = open(&quot;data/country_populations.csv&quot;)</code></pre>
<p>Here, we use the <code>json</code> package to load the data from the <code>world_cup_file</code> into a dictionary (which we’ll use for analysis) called <code>world_cup_data</code> and we’ll use the <code>csv</code> package to to load the data from <code>population_file</code> into a list of dictionaries called <code>population_data</code></p>
<pre class="python"><code>
# Men&#39;s World Cup Data
world_cup_data = json.load(world_cup_file)

# Close the file now that we&#39;re done reading from it
world_cup_file.close()

# Population Data
population_data = list(csv.DictReader(population_file))

# Close the file now that we&#39;re done reading from it
population_file.close()</code></pre>
</div>
</div>
<div id="working-on-the-mens-world-cup-data" class="section level3">
<h3>Working on the Men’s World Cup Data</h3>
<p>What is the structure of the <code>world_cup_data</code>?</p>
<pre class="python"><code>
world_cup_data.keys()</code></pre>
<pre><code>## dict_keys([&#39;name&#39;, &#39;rounds&#39;])</code></pre>
<p>This indicates the World Cup data is a dictionary, with two keys, ‘name’ and ‘rounds’</p>
<p><strong>Extracting the Rounds</strong>
<br>
First, we want to extract the rounds of the World Cup matches, so we can determine the number of wins from those matches.</p>
<pre class="python"><code>
# Create a variable called &quot;rounds&quot; from the &quot;rounds&quot; key.
rounds = world_cup_data[&quot;rounds&quot;]

# This prints the type of data of &quot;rounds&quot; (a list), the length of the &quot;rounds&quot; variable (20 rounds), and prints the three ...
print(&quot;type(rounds):&quot;, type(rounds))</code></pre>
<pre><code>## type(rounds): &lt;class &#39;list&#39;&gt;</code></pre>
<pre class="python"><code>print(&quot;len(rounds):&quot;, len(rounds))</code></pre>
<pre><code>## len(rounds): 20</code></pre>
<pre class="python"><code>print(&quot;rounds[3]:&quot;)</code></pre>
<pre><code>## rounds[3]:</code></pre>
<pre class="python"><code>rounds[3]</code></pre>
<pre><code>## {&#39;name&#39;: &#39;Matchday 4&#39;, &#39;matches&#39;: [{&#39;num&#39;: 9, &#39;date&#39;: &#39;2018-06-17&#39;, &#39;time&#39;: &#39;21:00&#39;, &#39;team1&#39;: {&#39;name&#39;: &#39;Brazil&#39;, &#39;code&#39;: &#39;BRA&#39;}, &#39;team2&#39;: {&#39;name&#39;: &#39;Switzerland&#39;, &#39;code&#39;: &#39;SUI&#39;}, &#39;score1&#39;: 1, &#39;score2&#39;: 1, &#39;score1i&#39;: 1, &#39;score2i&#39;: 0, &#39;goals1&#39;: [{&#39;name&#39;: &#39;Coutinho&#39;, &#39;minute&#39;: 20, &#39;score1&#39;: 1, &#39;score2&#39;: 0}], &#39;goals2&#39;: [{&#39;name&#39;: &#39;Zuber&#39;, &#39;minute&#39;: 50, &#39;score1&#39;: 1, &#39;score2&#39;: 1}], &#39;group&#39;: &#39;Group E&#39;, &#39;stadium&#39;: {&#39;key&#39;: &#39;rostov&#39;, &#39;name&#39;: &#39;Rostov Arena&#39;}, &#39;city&#39;: &#39;Rostov-on-Don&#39;, &#39;timezone&#39;: &#39;UTC+3&#39;}, {&#39;num&#39;: 10, &#39;date&#39;: &#39;2018-06-17&#39;, &#39;time&#39;: &#39;16:00&#39;, &#39;team1&#39;: {&#39;name&#39;: &#39;Costa Rica&#39;, &#39;code&#39;: &#39;CRC&#39;}, &#39;team2&#39;: {&#39;name&#39;: &#39;Serbia&#39;, &#39;code&#39;: &#39;SRB&#39;}, &#39;score1&#39;: 0, &#39;score2&#39;: 1, &#39;score1i&#39;: 0, &#39;score2i&#39;: 0, &#39;goals1&#39;: [], &#39;goals2&#39;: [{&#39;name&#39;: &#39;Kolarov&#39;, &#39;minute&#39;: 56, &#39;score1&#39;: 0, &#39;score2&#39;: 1}], &#39;group&#39;: &#39;Group E&#39;, &#39;stadium&#39;: {&#39;key&#39;: &#39;samara&#39;, &#39;name&#39;: &#39;Samara Arena&#39;}, &#39;city&#39;: &#39;Samara&#39;, &#39;timezone&#39;: &#39;UTC+4&#39;}, {&#39;num&#39;: 11, &#39;date&#39;: &#39;2018-06-17&#39;, &#39;time&#39;: &#39;18:00&#39;, &#39;team1&#39;: {&#39;name&#39;: &#39;Germany&#39;, &#39;code&#39;: &#39;GER&#39;}, &#39;team2&#39;: {&#39;name&#39;: &#39;Mexico&#39;, &#39;code&#39;: &#39;MEX&#39;}, &#39;score1&#39;: 0, &#39;score2&#39;: 1, &#39;score1i&#39;: 0, &#39;score2i&#39;: 1, &#39;goals1&#39;: [], &#39;goals2&#39;: [{&#39;name&#39;: &#39;Lozano&#39;, &#39;minute&#39;: 35, &#39;score1&#39;: 0, &#39;score2&#39;: 1}], &#39;group&#39;: &#39;Group F&#39;, &#39;stadium&#39;: {&#39;key&#39;: &#39;luzhniki&#39;, &#39;name&#39;: &#39;Luzhniki Stadium&#39;}, &#39;city&#39;: &#39;Moscow&#39;, &#39;timezone&#39;: &#39;UTC+3&#39;}]}</code></pre>
<p>The <code>rounds</code> variable we have created is a list of dictionaries, with each dictionary of inside of <code>rounds</code> containing a name (such as ‘Matchday 4’) as well as the list of matches that occurred on that day (along with match details)</p>
<p><strong>Extracting the Matches</strong>
<br></p>
<pre class="python"><code>
# Create a variable, &quot;matches,&quot; that is an empty list
matches = []

# This is a looping function
for round_ in rounds:
    # Extract the list of matches for this round
    round_matches = round_[&quot;matches&quot;]
    # Add them to the overall list of matches, which is the variable we created at the beginning
    matches.extend(round_matches)
    
# View the first entry
matches[0]</code></pre>
<pre><code>## {&#39;num&#39;: 1, &#39;date&#39;: &#39;2018-06-14&#39;, &#39;time&#39;: &#39;18:00&#39;, &#39;team1&#39;: {&#39;name&#39;: &#39;Russia&#39;, &#39;code&#39;: &#39;RUS&#39;}, &#39;team2&#39;: {&#39;name&#39;: &#39;Saudi Arabia&#39;, &#39;code&#39;: &#39;KSA&#39;}, &#39;score1&#39;: 5, &#39;score2&#39;: 0, &#39;score1i&#39;: 2, &#39;score2i&#39;: 0, &#39;goals1&#39;: [{&#39;name&#39;: &#39;Gazinsky&#39;, &#39;minute&#39;: 12, &#39;score1&#39;: 1, &#39;score2&#39;: 0}, {&#39;name&#39;: &#39;Cheryshev&#39;, &#39;minute&#39;: 43, &#39;score1&#39;: 2, &#39;score2&#39;: 0}, {&#39;name&#39;: &#39;Dzyuba&#39;, &#39;minute&#39;: 71, &#39;score1&#39;: 3, &#39;score2&#39;: 0}, {&#39;name&#39;: &#39;Cheryshev&#39;, &#39;minute&#39;: 90, &#39;offset&#39;: 1, &#39;score1&#39;: 4, &#39;score2&#39;: 0}, {&#39;name&#39;: &#39;Golovin&#39;, &#39;minute&#39;: 90, &#39;offset&#39;: 4, &#39;score1&#39;: 5, &#39;score2&#39;: 0}], &#39;goals2&#39;: [], &#39;group&#39;: &#39;Group A&#39;, &#39;stadium&#39;: {&#39;key&#39;: &#39;luzhniki&#39;, &#39;name&#39;: &#39;Luzhniki Stadium&#39;}, &#39;city&#39;: &#39;Moscow&#39;, &#39;timezone&#39;: &#39;UTC+3&#39;}</code></pre>
<p><strong>Extracting the Teams</strong>
<br></p>
<p>We know that each match has two teams, <code>team1</code> and <code>team2</code>, so we’re going to create a list of all unique team names by looping over every match in <code>matches</code> and adding the “name” values associated with both <code>team1</code> and <code>team2</code></p>
<pre class="python"><code>
# Create a variable, &quot;teams_set&quot;, that is an empty set
teams_set = set()

for match in matches:
    # Add team1 value to teams_set
    teams_set.add(match[&quot;team1&quot;][&quot;name&quot;])
    # Add team2 value to teams_set
    teams_set.add(match[&quot;team2&quot;][&quot;name&quot;])
    
# Create a &quot;teams&quot; variable that is a sorted list based on the teams_set
teams = sorted(list(teams_set))

# View the list
print(teams)</code></pre>
<pre><code>## [&#39;Argentina&#39;, &#39;Australia&#39;, &#39;Belgium&#39;, &#39;Brazil&#39;, &#39;Colombia&#39;, &#39;Costa Rica&#39;, &#39;Croatia&#39;, &#39;Denmark&#39;, &#39;Egypt&#39;, &#39;England&#39;, &#39;France&#39;, &#39;Germany&#39;, &#39;Iceland&#39;, &#39;Iran&#39;, &#39;Japan&#39;, &#39;Mexico&#39;, &#39;Morocco&#39;, &#39;Nigeria&#39;, &#39;Panama&#39;, &#39;Peru&#39;, &#39;Poland&#39;, &#39;Portugal&#39;, &#39;Russia&#39;, &#39;Saudi Arabia&#39;, &#39;Senegal&#39;, &#39;Serbia&#39;, &#39;South Korea&#39;, &#39;Spain&#39;, &#39;Sweden&#39;, &#39;Switzerland&#39;, &#39;Tunisia&#39;, &#39;Uruguay&#39;]</code></pre>
<p>Now that we have our <code>teams</code> variable that is comprised of all the participating teams at the 2018 Men’s World Cup, we move on to connecting each team name with its performance at the World Cup, as measured by the count of total wins.</p>
<p><br></p>
</div>
<div id="mens-world-cup-performance" class="section level3">
<h3>Men’s World Cup Performance</h3>
<p>In this section, we start by initializing a dictionary called <code>combined_data</code> containing:</p>
<ul>
<li>Keys: the strings from teams</li>
<li>Values: each value the same, a dictionary containing the key ‘wins’ with the associated value 0.</li>
</ul>
<pre class="python"><code>
# This uses dictionary comprehension, creating a dictionary (noted by {}) with the team as the key and the value set to number of wins - for each team in the teams list
combined_data = {team: {&quot;wins&quot;: 0} for team in teams}</code></pre>
<p>To add wins to the dictionary, we’re going to write a function that we can call on the <code>match</code> dictionary.</p>
<pre class="python"><code>
def find_winner(match):
    &quot;&quot;&quot;
    Given a dictionary containing information about a match,
    return the name of the winner (or None in the case of a tie)
    &quot;&quot;&quot;
    score_1 = match[&quot;score1&quot;]
    score_2 = match[&quot;score2&quot;]
    
    if score_1 &gt; score_2:
        return match[&quot;team1&quot;][&quot;name&quot;]
    elif score_2 &gt; score_1:
        return match[&quot;team2&quot;][&quot;name&quot;]
    else:
        return None
    # ^ this else: return None is not actually necessary since Python returns
    # None if nothing is returned</code></pre>
<p>Once this function is defined, we can loop over every match in <code>matches</code> to find the winner and add +1 to associated count in <code>combined_data</code></p>
<pre class="python"><code>
for match in matches:
    # Get the name of the winner
    winner = find_winner(match)
    # Only proceed to the next step if there was a winner
    if winner:
        # Add 1 to the associated count of wins
        combined_data[winner][&quot;wins&quot;] += 1
        
# Visually inspect the output to ensure the wins are different for different countries
combined_data</code></pre>
<pre><code>## {&#39;Argentina&#39;: {&#39;wins&#39;: 1}, &#39;Australia&#39;: {&#39;wins&#39;: 0}, &#39;Belgium&#39;: {&#39;wins&#39;: 6}, &#39;Brazil&#39;: {&#39;wins&#39;: 3}, &#39;Colombia&#39;: {&#39;wins&#39;: 2}, &#39;Costa Rica&#39;: {&#39;wins&#39;: 0}, &#39;Croatia&#39;: {&#39;wins&#39;: 3}, &#39;Denmark&#39;: {&#39;wins&#39;: 1}, &#39;Egypt&#39;: {&#39;wins&#39;: 0}, &#39;England&#39;: {&#39;wins&#39;: 3}, &#39;France&#39;: {&#39;wins&#39;: 6}, &#39;Germany&#39;: {&#39;wins&#39;: 1}, &#39;Iceland&#39;: {&#39;wins&#39;: 0}, &#39;Iran&#39;: {&#39;wins&#39;: 1}, &#39;Japan&#39;: {&#39;wins&#39;: 1}, &#39;Mexico&#39;: {&#39;wins&#39;: 2}, &#39;Morocco&#39;: {&#39;wins&#39;: 0}, &#39;Nigeria&#39;: {&#39;wins&#39;: 1}, &#39;Panama&#39;: {&#39;wins&#39;: 0}, &#39;Peru&#39;: {&#39;wins&#39;: 1}, &#39;Poland&#39;: {&#39;wins&#39;: 1}, &#39;Portugal&#39;: {&#39;wins&#39;: 1}, &#39;Russia&#39;: {&#39;wins&#39;: 2}, &#39;Saudi Arabia&#39;: {&#39;wins&#39;: 1}, &#39;Senegal&#39;: {&#39;wins&#39;: 1}, &#39;Serbia&#39;: {&#39;wins&#39;: 1}, &#39;South Korea&#39;: {&#39;wins&#39;: 1}, &#39;Spain&#39;: {&#39;wins&#39;: 1}, &#39;Sweden&#39;: {&#39;wins&#39;: 3}, &#39;Switzerland&#39;: {&#39;wins&#39;: 1}, &#39;Tunisia&#39;: {&#39;wins&#39;: 1}, &#39;Uruguay&#39;: {&#39;wins&#39;: 4}}</code></pre>
</div>
<div id="analysis-of-wins" class="section level3">
<h3>Analysis of Wins</h3>
<p>While we could try to understand all 32 of those numbers just by scanning through them, let’s use some descriptive statistics and data visualizations instead!</p>
<p><strong>Statistical Summary of Wins</strong>
<br>
The code below calculates the mean, median, and standard deviation of the number of wins. If it doesn’t work, that is an indication that something went wrong with the creation of the <code>combined_data</code> variable, and you might want to look at the solution branch and fix your code before proceeding.</p>
<pre class="python"><code>
import numpy as np

wins = [val[&quot;wins&quot;] for val in combined_data.values()]

print(&quot;Mean number of wins:&quot;, np.mean(wins))</code></pre>
<pre><code>## Mean number of wins: 1.5625</code></pre>
<pre class="python"><code>print(&quot;Median number of wins:&quot;, np.median(wins))</code></pre>
<pre><code>## Median number of wins: 1.0</code></pre>
<pre class="python"><code>print(&quot;Standard deviation of number of wins:&quot;, np.std(wins))</code></pre>
<pre><code>## Standard deviation of number of wins: 1.5194057226429023</code></pre>
<p><strong>Visualization</strong></p>
<pre class="python"><code>
import matplotlib.pyplot as plt

# Set up figure and axes
fig, (ax1, ax2) = plt.subplots(ncols=2, figsize=(12, 7))
fig.set_tight_layout(True)

# Histogram of Wins and Frequencies
ax1.hist(x=wins, bins=range(8), align=&quot;left&quot;, color=&quot;green&quot;)</code></pre>
<pre><code>## (array([ 6., 16.,  3.,  4.,  1.,  0.,  2.]), array([0, 1, 2, 3, 4, 5, 6, 7]), &lt;BarContainer object of 7 artists&gt;)</code></pre>
<pre class="python"><code>ax1.set_xticks(range(7))
ax1.set_xlabel(&quot;Wins in 2018 World Cup&quot;)
ax1.set_ylabel(&quot;Frequency&quot;)
ax1.set_title(&quot;Distribution of Wins&quot;)

# Horizontal Bar Graph of Wins by Country
ax2.barh(teams[::-1], wins[::-1], color=&quot;green&quot;)</code></pre>
<pre><code>## &lt;BarContainer object of 32 artists&gt;</code></pre>
<pre class="python"><code>ax2.set_xlabel(&quot;Wins in 2018 World Cup&quot;)
ax2.set_title(&quot;Wins by Country&quot;);</code></pre>
</div>
<div id="working-on-the-world-population-data" class="section level3">
<h3>Working on the World Population Data</h3>
<p>We need to filter the <code>population_data</code> dataset to include only those populations from 2018 and only those countries listed in the <code>teams</code> dataset we completed above.</p>
<p>First, we need to normalize the country names to ensure country names match.</p>
<pre class="python"><code>
def normalize_location(country_name):
    &quot;&quot;&quot;
    Given a country name, return the name that the
    country uses when playing in the FIFA World Cup
    &quot;&quot;&quot;
    name_sub_dict = {
        &quot;Russian Federation&quot;: &quot;Russia&quot;,
        &quot;Egypt, Arab Rep.&quot;: &quot;Egypt&quot;,
        &quot;Iran, Islamic Rep.&quot;: &quot;Iran&quot;,
        &quot;Korea, Rep.&quot;: &quot;South Korea&quot;,
        &quot;United Kingdom&quot;: &quot;England&quot;
    }
    # The .get method returns the corresponding value from
    # the dict if present, otherwise returns country_name
    return name_sub_dict.get(country_name, country_name)
    </code></pre>
<p>Then we can create our filtered population dataset.</p>
<pre class="python"><code>
population_data_filtered = []

for record in population_data:
    # Get normalized country name
    normalized_name = normalize_location(record[&quot;Country Name&quot;])
    # Add record to population_data_filtered if relevant
    if (normalized_name in teams) and (record[&quot;Year&quot;] == &quot;2018&quot;):
        # Replace the country name in the record
        record[&quot;Country Name&quot;] = normalized_name
        # Append to list
        population_data_filtered.append(record)</code></pre>
<p>Unfortunately, the population values from the <code>population_data</code> file are entered as objects/characters, not integers, so we need to change the values’ datatype.</p>
<pre class="python"><code>
for record in population_data_filtered:
    # Convert the population value from str to int
    record[&quot;Value&quot;] = int(record[&quot;Value&quot;])
    </code></pre>
<p>Now, we can loop over <code>population_data_filtered</code> and add information about population to each country in <code>combined_data</code>!</p>
<pre class="python"><code>
for record in population_data_filtered:
    # Extract the country name from the record
    country = record[&quot;Country Name&quot;]
    # Extract the population value from the record
    population = record[&quot;Value&quot;]
    # Add this information to combined_data
    combined_data[country][&quot;population&quot;] = population
    
# Look combined_data
combined_data</code></pre>
<pre><code>## {&#39;Argentina&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 44494502}, &#39;Australia&#39;: {&#39;wins&#39;: 0, &#39;population&#39;: 24982688}, &#39;Belgium&#39;: {&#39;wins&#39;: 6, &#39;population&#39;: 11433256}, &#39;Brazil&#39;: {&#39;wins&#39;: 3, &#39;population&#39;: 209469333}, &#39;Colombia&#39;: {&#39;wins&#39;: 2, &#39;population&#39;: 49648685}, &#39;Costa Rica&#39;: {&#39;wins&#39;: 0, &#39;population&#39;: 4999441}, &#39;Croatia&#39;: {&#39;wins&#39;: 3, &#39;population&#39;: 4087843}, &#39;Denmark&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 5793636}, &#39;Egypt&#39;: {&#39;wins&#39;: 0, &#39;population&#39;: 98423595}, &#39;England&#39;: {&#39;wins&#39;: 3, &#39;population&#39;: 66460344}, &#39;France&#39;: {&#39;wins&#39;: 6, &#39;population&#39;: 66977107}, &#39;Germany&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 82905782}, &#39;Iceland&#39;: {&#39;wins&#39;: 0, &#39;population&#39;: 352721}, &#39;Iran&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 81800269}, &#39;Japan&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 126529100}, &#39;Mexico&#39;: {&#39;wins&#39;: 2, &#39;population&#39;: 126190788}, &#39;Morocco&#39;: {&#39;wins&#39;: 0, &#39;population&#39;: 36029138}, &#39;Nigeria&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 195874740}, &#39;Panama&#39;: {&#39;wins&#39;: 0, &#39;population&#39;: 4176873}, &#39;Peru&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 31989256}, &#39;Poland&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 37974750}, &#39;Portugal&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 10283822}, &#39;Russia&#39;: {&#39;wins&#39;: 2, &#39;population&#39;: 144478050}, &#39;Saudi Arabia&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 33699947}, &#39;Senegal&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 15854360}, &#39;Serbia&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 6982604}, &#39;South Korea&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 51606633}, &#39;Spain&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 46796540}, &#39;Sweden&#39;: {&#39;wins&#39;: 3, &#39;population&#39;: 10175214}, &#39;Switzerland&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 8513227}, &#39;Tunisia&#39;: {&#39;wins&#39;: 1, &#39;population&#39;: 11565204}, &#39;Uruguay&#39;: {&#39;wins&#39;: 4, &#39;population&#39;: 3449299}}</code></pre>
<p><strong>Statistical Analysis of Population</strong></p>
<pre class="python"><code>
populations = [val[&quot;population&quot;] for val in combined_data.values()]

print(&quot;Mean population:&quot;, np.mean(populations))</code></pre>
<pre><code>## Mean population: 51687460.84375</code></pre>
<pre class="python"><code>print(&quot;Median population:&quot;, np.median(populations))</code></pre>
<pre><code>## Median population: 34864542.5</code></pre>
<pre class="python"><code>print(&quot;Standard deviation of population:&quot;, np.std(populations))</code></pre>
<pre><code>## Standard deviation of population: 55195121.60871871</code></pre>
<p><strong>Visualizations of Population</strong></p>
<pre class="python"><code>
# Set up figure and axes
fig, (ax1, ax2) = plt.subplots(ncols=2, figsize=(12, 7))
fig.set_tight_layout(True)

# Histogram of Populations and Frequencies
ax1.hist(x=populations, color=&quot;blue&quot;)</code></pre>
<pre><code>## (array([13.,  5.,  4.,  4.,  1.,  0.,  3.,  0.,  0.,  2.]), array([3.52721000e+05, 2.12643822e+07, 4.21760434e+07, 6.30877046e+07,
##        8.39993658e+07, 1.04911027e+08, 1.25822688e+08, 1.46734349e+08,
##        1.67646011e+08, 1.88557672e+08, 2.09469333e+08]), &lt;BarContainer object of 10 artists&gt;)</code></pre>
<pre class="python"><code>ax1.set_xlabel(&quot;2018 Population&quot;)
ax1.set_ylabel(&quot;Frequency&quot;)
ax1.set_title(&quot;Distribution of Population&quot;)

# Horizontal Bar Graph of Population by Country
ax2.barh(teams[::-1], populations[::-1], color=&quot;blue&quot;)</code></pre>
<pre><code>## &lt;BarContainer object of 32 artists&gt;</code></pre>
<pre class="python"><code>ax2.set_xlabel(&quot;2018 Population&quot;)
ax2.set_title(&quot;Population by Country&quot;);</code></pre>
</div>
<div id="analysis-of-performance-vs.-population" class="section level3">
<h3>Analysis of Performance vs. Population</h3>
<p><strong>Statistical Measure - Correlation</strong></p>
<pre class="python"><code>
np.corrcoef(wins, populations)[0][1]</code></pre>
<pre><code>## 0.07592816849178588</code></pre>
<p>This indicates a very weak positive correlation between population and performance.</p>
<p><strong>Data Visualization of Correlation</strong></p>
<pre class="python"><code>
# Set up figure
fig, ax = plt.subplots(figsize=(8, 5))

# Basic scatter plot
ax.scatter(
    x=populations,
    y=wins,
    color=&quot;gray&quot;, alpha=0.5, s=100
)
ax.set_xlabel(&quot;2018 Population&quot;)
ax.set_ylabel(&quot;2018 World Cup Wins&quot;)
ax.set_title(&quot;Population vs. World Cup Wins&quot;)

# Add annotations for specific points of interest
highlighted_points = {
    &quot;Belgium&quot;: 2, # Numbers are the index of that
    &quot;Brazil&quot;: 3,  # country in populations &amp; wins
    &quot;France&quot;: 10,
    &quot;Nigeria&quot;: 17
}
for country, index in highlighted_points.items():
    # Get x and y position of data point
    x = populations[index]
    y = wins[index]
    # Move each point slightly down and to the left
    # (numbers were chosen by manually tweaking)
    xtext = x - (1.25e6 * len(country))
    ytext = y - 0.5
    # Annotate with relevant arguments
    ax.annotate(
        text=country,
        xy=(x, y),
        xytext=(xtext, ytext)
    )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-21-1.png" width="768" /></p>
</div>
</div>
<div id="final-analysis" class="section level2">
<h2>Final Analysis</h2>
<p><strong>What is the relationship between the population of a country and their performance in the 2018 FIFA World Cup?</strong></p>
<p>Logic would dictate that the greater a country’s population, the more likely they are to have a better soccer team because they have a larger player pool than countries with smaller populations. The more people, the more possible players.</p>
<p>However, sheer numbers of people doesn’t equate to succes in sports - in this case, the men’s World Cup. Yes, Brazil makes a good case, but what about China, India, or the United States? And why would such a small country like Belgium be so good at soccer if its population is comparatively so much smaller?</p>
<p>I’d want to evaluate available government funding of soccer in these countries. How much state support do the national soccer federations receive? Is there a correlation with country wealth as well? Maybe measured by GDP per capita or income per capita.</p>
</div>
